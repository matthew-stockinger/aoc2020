let testInput = ["..##.......",
    "#...#...#..",
    ".#....#..#.",
    "..#.#...#.#",
    ".#...##..#.",
    "..#.##.....",
    ".#.#.#....#",
    ".#........#",
    "#.##...#...",
    "#...##....#",
    ".#..#...#.#"];

let realInput = [".......#..#....#...#...#......#",
    "..##..#...##.###.#..#.....#.#..",
    "#..#.#....#......#..#.........#",
    ".#..##...#........#....#..#..#.",
    "#.#.#....###...#........#.....#",
    ".#...#.#.##.#.##...#.#.........",
    "####......#.......###.##.#.....",
    "..#...........#...#.#.#........",
    ".#.......#....###.####..#......",
    "...##........#....##.......##..",
    ".###......##.#......##....#.#.#",
    "........#.#......##...#......#.",
    "#....##.#..#...#.......#.......",
    ".#..##........##.........#....#",
    ".#..#..#...#....#.#......#.#...",
    "..#.#......##.#.......#....##..",
    "......##......#.#..##.#..#...#.",
    ".....##.......#.#....#.#.......",
    "........#.....#.....#..###.#...",
    "#........#..#.....#...#.#.#..#.",
    ".#..#.....#...#........#.....#.",
    ".#.#.....#.....#...#...........",
    ".....#.#..#..#...#..#..#..##..#",
    "##.#...#....#..#.##..#.....#.#.",
    "#.......####......#..#.#....#..",
    "......#.#...####.........#.#..#",
    ".#.........#..#.#...#..........",
    "...#####.#....#.#..#......#.#.#",
    "##....#.###....##...##..#.....#",
    "...........####.##.#....##.##..",
    "#.#.#..........#.#..##.#.######",
    "##...#..#...........###..#....#",
    ".#.#.#...##..........##.#...#..",
    "...#.#........#..##...#....#...",
    "......#..#...#..##....#.......#",
    ".#..#.......#..#......##....##.",
    ".......#.......#........#..##..",
    "...#...#...#.##......#.##.#....",
    ".........#.........#.#.#.##....",
    "..#...................#....#..#",
    ".........#..#.....#.#...#....#.",
    "#.#.#...#........#..###.#......",
    "#.#.#.####......##...#...#....#",
    "#...........##..#.#.#....#..#..",
    "........#..#.#...........##.#.#",
    ".#.........#...........#..#....",
    "#............##.#..#....##...##",
    ".#....##..#.#....#.......#..#..",
    "..#.#...#.#......####.......#..",
    "...#.#.......###......#.....#..",
    "#......#.......#.#...#.#..##...",
    "...#.....#...##.#.....#.#......",
    "#.#.#............#..#......#..#",
    "....#...#...##.##.##...##.#....",
    "..##........#..#........#...##.",
    ".......#..#...#.........#.....#",
    "...........#.#......#...#......",
    "...##..##..##..###..#..#..#..#.",
    "#..##.......##..#....#....#.#..",
    "#.#.##.#..##.....#....#.#......",
    "....#..##......#.#..#....#....#",
    ".#.#.........##...#......##.##.",
    "##...........#..#.....#.###....",
    ".#.###........#...#....##..#...",
    "......##.....#.................",
    ".#.##..#.#.......#......#.#.#..",
    ".#...#....#.##..........##.##..",
    "#...##......####.#....#....#...",
    ".#...#.##.#.#.....#...#........",
    ".#................#.##.#.###...",
    "...#.#..#.#.....##.....##....#.",
    "..##.#..#..##.....#....#...#.##",
    "........###.##..#..###.....#..#",
    "..##.....#.......#.#...##......",
    "#.#..###...##.###.##.#..#...#..",
    "#..#..#.#...#....#...##.....#.#",
    "#..................#........#..",
    "#.....#.......#.##....##....#..",
    "...#.............#.....#...#...",
    "...#...#.##..##.....#........#.",
    ".......#........##....###..##..",
    ".#....#....#.#..#......#....#.#",
    "..........#..#.#.....##...#.##.",
    ".#...##.#...........#.#.......#",
    "..#.##.....#.###.#.............",
    "..#....###..........#.#.#......",
    "#.....#.####..#.#......#..#.#.#",
    "...#........#..#...............",
    ".###.#.##.....#.#...........#..",
    "..#....#..#....#..##....#......",
    "......#..#.....#.#.##.......#.#",
    "###..#...#.#..#....#..##.###..#",
    ".#....##.###........##...##.#.#",
    "........##..##.#....##..#....#.",
    "...#..#....#.#....#...#...##...",
    "#.....#......#.##........#....#",
    "....#....###.##...#.#.##....#..",
    "......#.##..#.#..........#...#.",
    "...........#...#....##...#....#",
    "......#.#.........#....#.#.#...",
    ".###..........#.###.##....#...#",
    "...##.......#......#....#....#.",
    "#..#...#.#..####...#......#..#.",
    "....##..#.#.........#..........",
    ".##.###.##....##.####....#...#.",
    "..##.......#........#...#..#...",
    "....#####..........###....#....",
    ".#.#..#.#.#....#..#............",
    "........#.....#....#.......##..",
    "...........##....##..##.....##.",
    "..###........#.#.#..#....##...#",
    ".....#...........##......#..#..",
    "...##........#.##.#......##..#.",
    "##..#....#............##..#..#.",
    ".#.....#...##.##..............#",
    "#..##........#...#...#......##.",
    "......##.....#.......####.##..#",
    "...#.#....#...#..#.............",
    "..#...#..##.###..#..#.......##.",
    "##....###.......#...#..#.......",
    "#..#.....###.....#.#.........#.",
    "#.#....#.............#...#.....",
    "..#.#.##..........#.....##.#...",
    ".....##......#..#..#.....#..#..",
    "##.#..#..#.##......###....#..#.",
    "...#............##...#..##.....",
    ".#..#....#.........#......#.##.",
    ".##.##...#..............#..#.##",
    "...#....#...###...#...#....#..#",
    "..#...#..####..#....#.#...##..#",
    "..............##.##.......##...",
    "..##.#..##...........#.#.#...#.",
    "..................##.####.###..",
    ".#...........#.......#......#..",
    ".#.#.#...#....#.........##...##",
    "....#..........#.#....#.#.....#",
    "..........#.#..........#.#.....",
    "...........#.....#.#......#....",
    "........#..#.#.#.#.............",
    "...###...##...##..####.##......",
    ".#..#......###.....#...#.....#.",
    ".........##............#.#.....",
    "#.#..#.#.#....###.#.#..#..#..##",
    "..........#...#.##.#..#..#....#",
    "#..#.......##....#..##........#",
    "##.#...#....##.............#...",
    "....#........#......##..#..#.##",
    ".................#.#.#.#.#.....",
    "...........#.#.....#.......#...",
    "#.......#.......#............#.",
    "....#...........#.#.##.....#..#",
    "#...#.....#....#..##...#.......",
    "..#.....#.....#.##.##....#.....",
    ".#.#..#...#..#..##.....##..#...",
    ".#.#....#.........####.........",
    "#...#..####.....#...#..##......",
    "..#...##.#.....#...#.....##....",
    ".#...#.....#.#.#......#.......#",
    "..#.....##.#..#.#...##.........",
    "##.#...#..#....#....#.##.##...#",
    ".#..#....#..##.#.......#..#....",
    "...##.#......#...###.......#...",
    "...#..#.........##.####........",
    "#.#..#..##...........#..#......",
    ".#...#.#......#.#..........#...",
    "...###...#.......#.....#.#...##",
    "..#....#.#.##..........##...#..",
    ".....###.........#.....#..##..#",
    ".......##.....#.#.....#.#..##..",
    ".#.#.###..##.......##...#......",
    "......#.....#................##",
    ".#......##..##.#.#...#...#...##",
    ".#...#......#.......#.#........",
    ".#..........###...#..#...#.....",
    ".........##.....#.#..#..#.#...#",
    "#...#...#.........#..#..#....#.",
    "###.......#.#.....#....##......",
    ".#..#......#..#...........#..#.",
    "..##....##..##...#......#......",
    ".#........#....#...#....#.....#",
    ".#.......#...#...#..##.#.#..#..",
    "#...#........#.##.....#.....#..",
    "#..##.....#..........#...#...##",
    "............#...............#..",
    ".#.##...#.....#.#..#..#..#.....",
    ".#.#.#...#........#....#...##..",
    "##......#.....#.###.#...#.#..#.",
    ".........##..#..#.#...#...#...#",
    "#...#.#....#..#..#.....#.......",
    ".......#.###...#.............#.",
    "..#.....#.#.#..###.#....#.....#",
    "....#...#.#....#.#..........#..",
    "..#......#.###.#.#..#.....#...#",
    "#............#..##...##......#.",
    "#...........#..#....#.###..###.",
    ".#.##.#.#.......#.............#",
    "..............#................",
    "..#.#.....#.....#...#......#...",
    ".#.#.#..#..#.#...........##....",
    ".....##.#......#..#.##....#....",
    ".......##..#.#.#..#............",
    "..#.....#.....#.###..#.....#.#.",
    "......##.....#..##.#...#.....#.",
    "...#...#....#..#..#........#...",
    "..#.##..#....#.........#.#..#..",
    "#....#.....###.....#......#....",
    "##.....#..#..##.........#.##.##",
    ".#.#....#.#..........#.........",
    ".##.#...#..#.......#.##...#....",
    "...#...#.....#....#...#.#..#...",
    ".....#....#.....#.....#.#......",
    "...........#.#.......#.......#.",
    ".........##.###.##........#....",
    "#..##.....#...#.#..............",
    ".#...#....##........#.#..#....#",
    "..#...#........#...#..#.##.#..#",
    "........#...#.....##.#.#....#.#",
    "#..#.......###.#....#.#.#......",
    ".......#...##....#...#..##..#..",
    ".....##........#.#.#..#....##..",
    ".#....#..#.#...........#......#",
    "...##....#.##.....##.......#...",
    ".##..#..#....#.#....#..#....##.",
    "..#....#.....###.......#..##..#",
    "....#.......#....##..#....#..##",
    "....#......##..#....#.#...#.#..",
    ".##.#......##..................",
    "##.#....#........#..#..#...##.#",
    ".......#..#.#...##.....#.#.....",
    "..##.#...........#.#.#..#.#.#..",
    ".....#....#......#..#.......#..",
    "#.#...#.####..##.......#..##...",
    "...#....#.....#.##.#..#.##..#..",
    ".#.......#......##........##.#.",
    ".......#.#...#..#...#..##.#....",
    ".#....#........#.#.....##..#..#",
    "#..#.....#..#.............#...#",
    "#...#....#..#...###..#...#.#...",
    ".#..#.....#..........#..##.####",
    "#.#.#.#.##.#.#.....##.#........",
    "...#....##....#...#..##.......#",
    "..##.##.#.#........#..........#",
    "..###........###..#..........#.",
    "...#......#..##.#........#..#..",
    "#.#.#..#........#..#..........#",
    "...#........#..##.#...#.###....",
    "##......#.####.#....#......#...",
    ".#..#......#................#..",
    "#.#........#.#.....##.....##...",
    "#...............#..#.......#.#.",
    ".##..#...........##..#..#.#....",
    "#......#.#.......#.#.#.##..#.##",
    ".....##.#..###.............##..",
    "....##.........#..#...#........",
    ".....#.....#.#.#..#.#..........",
    "#.........#....##.#.##.....#..#",
    ".#.........#......#.#.##.#.#...",
    "##.........#.....#..#.#..#.##.#",
    "....#......##...#.....#..#..###",
    "..#..............#...#..####...",
    "#....#...##.#.......#...#..#...",
    "#.......###.#.#.......#.......#",
    "...##....#.#...........#...###.",
    "...........#..#.#.....#..##..#.",
    "..#.........#..###..#.....#...#",
    "..#.#.....#.#.#...#.#.#......#.",
    "........#.....#.#......##....##",
    "##.#.#...#.#........#.....#...#",
    "........#....#...............#.",
    "##.###......####...#####..#....",
    "...##...#..#....#........#...#.",
    "...###.#..................##.#.",
    "##.#.......###.......#...#.#...",
    "....#..#.#...#...#....#.#.#..##",
    "....#...........#..#...........",
    "#..#.#..#...#...#..#...........",
    "...#...#.#....#..#....#........",
    "#....#.......#.##........#..#..",
    ".....#...#..#................#.",
    "#......#.......#..........##..#",
    ".#....#.#......#.#...#....##..#",
    "...#.##...#......#.#...##...##.",
    "..#...#..##...#...#....#.......",
    ".....#....#.#.#..........#.#...",
    "...#...#..#....#..#.#..........",
    "......#.#..........##.......#..",
    ".#...##.#.#...#..##..#...#.....",
    "..#..#.........#........#.#.#..",
    "#.#..##..#.....##......#.....#.",
    "#..#.....#.#....#...#.#....#.#.",
    "......#........##.#..#...#.....",
    "...#.##.#.#......#.#..##...#..#",
    "....#..###..#..#.....###....##.",
    ".....#...#.#.....#..........#.#",
    ".#...##..##.....#..#...#.#.#...",
    ".##.#......##...##..#...#.....#",
    ".#.##....#...#.##.#.#...#.#...#",
    "....#.#...#....###.#.....#.....",
    "#.....####................#..#.",
    "....#.....#...#.#.......##.#...",
    ".#...##.#...#..#...........#.#.",
    "..#####..#.#...#...##........#.",
    "...#...##........#...#.#....###",
    "........#.#.#..#.....#.......#.",
    "...#...#..##............##.....",
    "#.#..###....###.#...#.#...##.##",
    "..#.##...#......#..#.........##",
    ".##..#..#.....#..#.........#.#.",
    ".#..#.#....#.##...#..#.##....##",
    "..#...#.#...##.#.#...#...#....#",
    "#..........#.......##..##....#.",
    "#...###.#......#....#.........#",
    "#.....#...##.......##....##....",
    ".##.#..#.##......#.##....#..#..",
    "............#.#....##.#..#....#",
    ".#.........##.##...#....#.....#",
    "##....##..#..#....##...#.....##",
    "...#.....#...........#.....##..",
    "......#...#.........#.......#..",
    "............#...##.#.....#.#.#.",
    ".#........##..........#.....#.#",
    ".###.........#.....#.##...#....",
    ".##..#...##...#..#..#.##......."];

function countTrees(forest, rightSteps, downSteps) {
    let w = forest[0].length;

    let numTrees = 0;

    let rPos = 0;
    for (let i = 0; i < forest.length; i += downSteps) {
        // console.log(`before: numTrees = ${numTrees} and rPos = ${rPos}`);
        numTrees += forest[i][rPos % w] === "#" ? 1 : 0;
        rPos += rightSteps;
        // console.log(`after: numTrees = ${numTrees} and rPos = ${rPos}`);
    }

    return numTrees;
}

let slopes = [[1, 1], [3, 1], [5, 1], [7, 1], [1, 2]];

let product = slopes.reduce((accumulator, slopePair) => {
    // console.log(`checking ${slopePair}`);
    // console.log("accumulator =", accumulator);
    // console.log(countTrees(testInput, slopePair[0], slopePair[1]));
    return accumulator * countTrees(realInput, slopePair[0], slopePair[1]);
}, 1);

console.log(product);

// console.log(countTrees(realInput, 3, 1));